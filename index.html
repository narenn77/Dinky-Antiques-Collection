<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dinky's Antiques & Collectables</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      padding-top: 70px; /* reduced top spacing */
      background: #fafafa;
      color: #333;
    }

    header {
      background: #444;
      color: white;
      padding: 12px 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    header h1 {
      margin: 0;
      font-size: 1.7em;
      text-align: center;
    }

    header img.logo {
      position: absolute;
      left: 20px;
      height: 40px;
    }

    header a {
      position: absolute;
      right: 20px;
      color: #ffd700;
      text-decoration: none;
      font-weight: bold;
    }

    /* Filters wrapper with decorative images */
    .filters-wrapper {
      display: flex;
      align-items: flex-start;
      justify-content: center;
      gap: 15px;
      margin-top: 10px;
      margin-bottom: 5px;
    }

    .filters-images-left {
      display: flex;
      gap: 8px;
      flex-shrink: 0;
      align-items: flex-start;
    }

    .filters-images-right {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-shrink: 0;
    }

    .filters-images-left .decor-image {
      width: 140px;
      height: 120px; /* slightly smaller height */
      object-fit: cover;
      border-radius: 8px;
    }

    .filters-images-right .decor-image-note {
      width: 320px;
      height: 100px; /* slightly smaller */
      object-fit: cover;
      border-radius: 6px;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .filters input, .filters select {
      padding: 8px 12px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 4px;
      min-width: 180px;
    }

    /* "Check our Collection" links below filters */
    .jump-links {
      text-align: center;
      margin: 5px 0 15px;
      font-size: 1.05em;  
      z-index: 1;
    }

    .jump-links a {
      margin: 0 10px;
      text-decoration: none;
      color: #0066cc;
      font-weight: bold;
    }

    .jump-links a:hover {
      text-decoration: underline;
    }

    .section {
      padding: 15px 20px;
    }

    .items {
      display: flex;
      overflow-x: auto;
      gap: 15px;
      padding: 10px 0;
    }

    .item {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      min-width: 240px;
      text-align: center;
      cursor: pointer;
      flex-shrink: 0;
      position: relative;
    }

    .item img {
      width: 240px;
      height: 192px;
      border-radius: 4px;
      object-fit: cover;
      display: block;
      margin: 0 auto;
    }

    /* Like/Unlike buttons */
    .like-container {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      opacity: 0;
      transition: opacity 0.2s;
      font-size: 0.9em;
    }

    .item:hover .like-container {
      opacity: 1;
    }

    .like-btn, .unlike-btn {
      cursor: pointer;
      user-select: none;
      padding: 2px 4px;
      border-radius: 4px;
      border: 1px solid #ccc;
      background: #f9f9f9;
    }

    .like-btn:hover { background: #cce5ff; }
    .unlike-btn:hover { background: #f8d7da; }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      max-height: 80%;
      overflow-y: auto;
    }

    .modal img {
      max-width: 500px;
      width: 100%;
      height: auto;
      margin: 10px 0;
      border-radius: 6px;
      object-fit: contain;
      display: block;
    }

    .close {
      float: right;
      font-size: 1.5em;
      cursor: pointer;
      color: #444;
    }

    /* Mobile responsive */
    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: center;
        padding: 10px;
        text-align: center;
        position: relative;
      }

      header img.logo { position: static; height: 50px; margin-bottom: 10px; }
      header a { position: static; margin-top: 5px; }
      header h1 { font-size: 1.5em; margin: 5px 0; }

      .filters-images-left,
      .filters-images-right { display: none; }

      .filters-wrapper { flex-direction: column; align-items: center; margin-top: 0; }
      .filters { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
      #yearFilter, #countryFilter { flex: 1 1 45%; }
      #search { flex: 1 1 100%; margin-top: 8px; }
    }
  </style>
</head>
<body>
  <header>
    <img src="images/logo.jpg" alt="Logo" class="logo">
    <h1>Dinky's Antiques & Collectables</h1>
    <a href="mailto:dnaphx@gmail.com">dnaphx@gmail.com</a>
  </header>

  <!-- Filters with decorative images -->
  <div class="filters-wrapper">
    <div class="filters-images-left">
      <img src="images/Stamp-Decor.jpg" alt="Stamp" class="decor-image">
      <img src="images/Coin-Decor.jpg" alt="Coin" class="decor-image">
    </div>

    <div class="filters">
      <input type="text" id="search" placeholder="Search by name or description...">
      <select id="yearFilter"><option value="">All Years</option></select>
      <select id="countryFilter"><option value="">All Countries</option></select>
    </div>

    <div class="filters-images-right">
      <img src="images/Note-Decor.jpg" alt="Note" class="decor-image-note">
    </div>
  </div>

  <div class="jump-links">
    <strong>Check our Collection :</strong>
    <a href="#stamps">Stamps</a> |
    <a href="#coins">Coins</a> |
    <a href="#notes">Currency Notes</a>
  </div>

  <section id="stamps" class="section">
    <h2>Stamps</h2>
    <div class="items" id="stamps-list"></div>
  </section>

  <section id="coins" class="section">
    <h2>Coins</h2>
    <div class="items" id="coins-list"></div>
  </section>

  <section id="notes" class="section">
    <h2>Currency Notes</h2>
    <div class="items" id="notes-list"></div>
  </section>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3 id="modal-title"></h3>
      <p id="modal-description"></p>
      <img id="modal-img-front" src="" alt="">
      <img id="modal-img-back" src="" alt="" style="display:none;">
    </div>
  </div>

  <script>
    let allData = [];

    // Store likes/unlikes in memory
    const likesMap = {};
    const unlikesMap = {};

    async function loadDataFromSheet() {
      const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSLpngLMcdLqCWeavVMsRqEGOQvS8LXgxYkzRGPhLAWQyt3_6BHUVi2HYLWzjpNlqAE3IFvdwZ4Q_BY/pub?output=csv';
      try {
        const res = await fetch(sheetURL);
        const csvText = await res.text();
        allData = csvToJSON(csvText);
        populateFilters(allData);
        renderItems(allData);
      } catch (err) { console.error("Error loading sheet:", err); }
    }

    function csvToJSON(csv) {
      const lines = csv.split("\n").filter(l => l.trim() !== "");
      const headers = lines[0].split(",");
      return lines.slice(1).map(line => {
        const obj = {};
        const currentline = line.split(",");
        headers.forEach((h,i) => obj[h.trim()] = currentline[i] ? currentline[i].trim() : "");
        return obj;
      });
    }

    function populateFilters(data) {
      const years = [...new Set(data.map(i=>i.Year))].sort((a,b)=>a-b);
      const countries = [...new Set(data.map(i=>i.Country))].sort();
      const yearFilter = document.getElementById("yearFilter");
      const decadeRanges = [];
      years.forEach(y => { const decade=Math.floor(y/10)*10; if(!decadeRanges.includes(decade)) decadeRanges.push(decade); });
      decadeRanges.sort((a,b)=>a-b).forEach(d => { let opt=document.createElement("option"); opt.value=d; opt.textContent=`${d} - ${d+9}`; yearFilter.appendChild(opt); });

      const countryFilter = document.getElementById("countryFilter");
      countries.forEach(c => { let opt=document.createElement("option"); opt.value=c; opt.textContent=c; countryFilter.appendChild(opt); });
    }

    function renderItems(data) {
      const stampsList = document.getElementById("stamps-list");
      const coinsList = document.getElementById("coins-list");
      const notesList = document.getElementById("notes-list");
      stampsList.innerHTML = coinsList.innerHTML = notesList.innerHTML = "";

      data.forEach(item => {
        const div = document.createElement("div");
        div.className = "item";

        let img = document.createElement("img");
        img.src = item.Type === "Stamp" ? item.ImgFront : item.ImgFront;
        img.alt = item.Name;
        div.appendChild(img);

        div.innerHTML += `<p><strong>${item.Name}</strong></p><p>${item.Year} - ${item.Country}</p>`;

        // Like/Unlike container
        const likeContainer = document.createElement("div");
        likeContainer.className = "like-container";
        const likeBtn = document.createElement("span");
        likeBtn.className = "like-btn";
        likeBtn.innerHTML = `&#128077; ${likesMap[item.Name] || 0}`;
        likeBtn.onclick = e => { e.stopPropagation(); likesMap[item.Name] = (likesMap[item.Name]||0)+1; likeBtn.innerHTML=`&#128077; ${likesMap[item.Name]}`; };

        const unlikeBtn = document.createElement("span");
        unlikeBtn.className = "unlike-btn";
        unlikeBtn.innerHTML = `&#128078; ${unlikesMap[item.Name] || 0}`;
        unlikeBtn.onclick = e => { e.stopPropagation(); unlikesMap[item.Name] = (unlikesMap[item.Name]||0)+1; unlikeBtn.innerHTML=`&#128078; ${unlikesMap[item.Name]}`; };

        likeContainer.appendChild(likeBtn);
        likeContainer.appendChild(unlikeBtn);
        div.appendChild(likeContainer);

        div.onclick = () => openModal(item);

        if (item.Type === "Stamp") stampsList.appendChild(div);
        else if (item.Type === "Coin") coinsList.appendChild(div);
        else if (item.Type === "Currency Note") notesList.appendChild(div);
      });
    }

    function applyFilters() {
      const searchVal = document.getElementById("search").value.toLowerCase();
      const yearVal = document.getElementById("yearFilter").value;
      const countryVal = document.getElementById("countryFilter").value;

      const filtered = allData.filter(item => {
        const matchesSearch =
          item.Name.toLowerCase().includes(searchVal) ||
          item.Description.toLowerCase().includes(searchVal);
        const matchesYear = !yearVal || (Math.floor(item.Year/10)*10 == yearVal);
        const matchesCountry = !countryVal || item.Country === countryVal;
        return matchesSearch && matchesYear && matchesCountry;
      });

      renderItems(filtered);
    }

    function openModal(item) {
      document.getElementById("modal").style.display = "flex";
      document.getElementById("modal-title").innerText = item.Name + " (" + item.Year + ")";
      document.getElementById("modal-description").innerText = item.Description;
      document.getElementById("modal-img-front").src = item.ImgFront;
      if (item.ImgBack) {
        document.getElementById("modal-img-back").style.display = "block";
        document.getElementById("modal-img-back").src = item.ImgBack;
      } else {
        document.getElementById("modal-img-back").style.display = "none";
      }
    }

    function closeModal() { document.getElementById("modal").style.display = "none"; }

    document.getElementById("search").addEventListener("input", applyFilters);
    document.getElementById("yearFilter").addEventListener("change", applyFilters);
    document.getElementById("countryFilter").addEventListener("change", applyFilters);

    loadDataFromSheet();
  </script>
</body>
</html>

  <title>Dinky's Antiques & Collectables</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      padding-top: 70px; /* reduced top spacing */
      background: #fafafa;
      color: #333;
    }

    header {
      background: #444;
      color: white;
      padding: 12px 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    header h1 {
      margin: 0;
      font-size: 1.7em;
      text-align: center;
    }

    header img.logo {
      position: absolute;
      left: 20px;
      height: 40px;
    }

    header a {
      position: absolute;
      right: 20px;
      color: #ffd700;
      text-decoration: none;
      font-weight: bold;
    }

    /* Filters wrapper with decorative images */
    .filters-wrapper {
      display: flex;
      align-items: flex-start;
      justify-content: center;
      gap: 15px;
      margin-top: 10px;
      margin-bottom: 5px;
    }

    .filters-images-left {
      display: flex;
      gap: 8px;
      flex-shrink: 0;
      align-items: flex-start;
    }

    .filters-images-right {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-shrink: 0;
    }

    .filters-images-left .decor-image {
      width: 140px;
      height: 120px; /* slightly smaller height */
      object-fit: cover;
      border-radius: 8px;
    }

    .filters-images-right .decor-image-note {
      width: 320px;
      height: 100px; /* slightly smaller */
      object-fit: cover;
      border-radius: 6px;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .filters input, .filters select {
      padding: 8px 12px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 4px;
      min-width: 180px;
    }

    /* "Check our Collection" links below filters */
    .jump-links {
      text-align: center;
      margin: 5px 0 15px;
      font-size: 1.05em;  
      z-index: 1;
    }

    .jump-links a {
      margin: 0 10px;
      text-decoration: none;
      color: #0066cc;
      font-weight: bold;
    }

    .jump-links a:hover {
      text-decoration: underline;
    }

    .section {
      padding: 15px 20px;
    }

    .items {
      display: flex;
      overflow-x: auto;
      gap: 15px;
      padding: 10px 0;
    }

    .item {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      min-width: 240px;
      text-align: center;
      cursor: pointer;
      flex-shrink: 0;
      position: relative;
    }

    .item img {
      width: 240px;
      height: 192px;
      border-radius: 4px;
      object-fit: cover;
      display: block;
      margin: 0 auto;
    }

    /* Like/Unlike buttons */
    .like-container {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      opacity: 0;
      transition: opacity 0.2s;
      font-size: 0.9em;
    }

    .item:hover .like-container {
      opacity: 1;
    }

    .like-btn, .unlike-btn {
      cursor: pointer;
      user-select: none;
      padding: 2px 4px;
      border-radius: 4px;
      border: 1px solid #ccc;
      background: #f9f9f9;
    }

    .like-btn:hover { background: #cce5ff; }
    .unlike-btn:hover { background: #f8d7da; }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      max-height: 80%;
      overflow-y: auto;
    }

    .modal img {
      max-width: 500px;
      width: 100%;
      height: auto;
      margin: 10px 0;
      border-radius: 6px;
      object-fit: contain;
      display: block;
    }

    .close {
      float: right;
      font-size: 1.5em;
      cursor: pointer;
      color: #444;
    }

    /* Mobile responsive */
    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: center;
        padding: 10px;
        text-align: center;
        position: relative;
      }

      header img.logo { position: static; height: 50px; margin-bottom: 10px; }
      header a { position: static; margin-top: 5px; }
      header h1 { font-size: 1.5em; margin: 5px 0; }

      .filters-images-left,
      .filters-images-right { display: none; }

      .filters-wrapper { flex-direction: column; align-items: center; margin-top: 0; }
      .filters { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
      #yearFilter, #countryFilter { flex: 1 1 45%; }
      #search { flex: 1 1 100%; margin-top: 8px; }
    }
  </style>
</head>
<body>
  <header>
    <img src="images/logo.jpg" alt="Logo" class="logo">
    <h1>Dinky's Antiques & Collectables</h1>
    <a href="mailto:dnaphx@gmail.com">dnaphx@gmail.com</a>
  </header>

  <!-- Filters with decorative images -->
  <div class="filters-wrapper">
    <div class="filters-images-left">
      <img src="images/Stamp-Decor.jpg" alt="Stamp" class="decor-image">
      <img src="images/Coin-Decor.jpg" alt="Coin" class="decor-image">
    </div>

    <div class="filters">
      <input type="text" id="search" placeholder="Search by name or description...">
      <select id="yearFilter"><option value="">All Years</option></select>
      <select id="countryFilter"><option value="">All Countries</option></select>
    </div>

    <div class="filters-images-right">
      <img src="images/Note-Decor.jpg" alt="Note" class="decor-image-note">
    </div>
  </div>

  <div class="jump-links">
    <strong>Check our Collection :</strong>
    <a href="#stamps">Stamps</a> |
    <a href="#coins">Coins</a> |
    <a href="#notes">Currency Notes</a>
  </div>

  <section id="stamps" class="section">
    <h2>Stamps</h2>
    <div class="items" id="stamps-list"></div>
  </section>

  <section id="coins" class="section">
    <h2>Coins</h2>
    <div class="items" id="coins-list"></div>
  </section>

  <section id="notes" class="section">
    <h2>Currency Notes</h2>
    <div class="items" id="notes-list"></div>
  </section>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3 id="modal-title"></h3>
      <p id="modal-description"></p>
      <img id="modal-img-front" src="" alt="">
      <img id="modal-img-back" src="" alt="" style="display:none;">
    </div>
  </div>

  <script>
    let allData = [];

    // Store likes/unlikes in memory
    const likesMap = {};
    const unlikesMap = {};

    async function loadDataFromSheet() {
      const sheetURL = 'https://docs.google.com/spreadsheets/d/<SHEET_ID>/gviz/tq?tqx=out:csv';
      try {
        const res = await fetch(sheetURL);
        const csvText = await res.text();
        allData = csvToJSON(csvText);
        populateFilters(allData);
        renderItems(allData);
      } catch (err) { console.error("Error loading sheet:", err); }
    }

    function csvToJSON(csv) {
      const lines = csv.split("\n").filter(l => l.trim() !== "");
      const headers = lines[0].split(",");
      return lines.slice(1).map(line => {
        const obj = {};
        const currentline = line.split(",");
        headers.forEach((h,i) => obj[h.trim()] = currentline[i] ? currentline[i].trim() : "");
        return obj;
      });
    }

    function populateFilters(data) {
      const years = [...new Set(data.map(i=>i.Year))].sort((a,b)=>a-b);
      const countries = [...new Set(data.map(i=>i.Country))].sort();
      const yearFilter = document.getElementById("yearFilter");
      const decadeRanges = [];
      years.forEach(y => { const decade=Math.floor(y/10)*10; if(!decadeRanges.includes(decade)) decadeRanges.push(decade); });
      decadeRanges.sort((a,b)=>a-b).forEach(d => { let opt=document.createElement("option"); opt.value=d; opt.textContent=`${d} - ${d+9}`; yearFilter.appendChild(opt); });

      const countryFilter = document.getElementById("countryFilter");
      countries.forEach(c => { let opt=document.createElement("option"); opt.value=c; opt.textContent=c; countryFilter.appendChild(opt); });
    }

    function renderItems(data) {
      const stampsList = document.getElementById("stamps-list");
      const coinsList = document.getElementById("coins-list");
      const notesList = document.getElementById("notes-list");
      stampsList.innerHTML = coinsList.innerHTML = notesList.innerHTML = "";

      data.forEach(item => {
        const div = document.createElement("div");
        div.className = "item";

        let img = document.createElement("img");
        img.src = item.Type === "Stamp" ? item.ImgFront : item.ImgFront;
        img.alt = item.Name;
        div.appendChild(img);

        div.innerHTML += `<p><strong>${item.Name}</strong></p><p>${item.Year} - ${item.Country}</p>`;

        // Like/Unlike container
        const likeContainer = document.createElement("div");
        likeContainer.className = "like-container";
        const likeBtn = document.createElement("span");
        likeBtn.className = "like-btn";
        likeBtn.innerHTML = `&#128077; ${likesMap[item.Name] || 0}`;
        likeBtn.onclick = e => { e.stopPropagation(); likesMap[item.Name] = (likesMap[item.Name]||0)+1; likeBtn.innerHTML=`&#128077; ${likesMap[item.Name]}`; };

        const unlikeBtn = document.createElement("span");
        unlikeBtn.className = "unlike-btn";
        unlikeBtn.innerHTML = `&#128078; ${unlikesMap[item.Name] || 0}`;
        unlikeBtn.onclick = e => { e.stopPropagation(); unlikesMap[item.Name] = (unlikesMap[item.Name]||0)+1; unlikeBtn.innerHTML=`&#128078; ${unlikesMap[item.Name]}`; };

        likeContainer.appendChild(likeBtn);
        likeContainer.appendChild(unlikeBtn);
        div.appendChild(likeContainer);

        div.onclick = () => openModal(item);

        if (item.Type === "Stamp") stampsList.appendChild(div);
        else if (item.Type === "Coin") coinsList.appendChild(div);
        else if (item.Type === "Currency Note") notesList.appendChild(div);
      });
    }

    function applyFilters() {
      const searchVal = document.getElementById("search").value.toLowerCase();
      const yearVal = document.getElementById("yearFilter").value;
      const countryVal = document.getElementById("countryFilter").value;

      const filtered = allData.filter(item => {
        const matchesSearch =
          item.Name.toLowerCase().includes(searchVal) ||
          item.Description.toLowerCase().includes(searchVal);
        const matchesYear = !yearVal || (Math.floor(item.Year/10)*10 == yearVal);
        const matchesCountry = !countryVal || item.Country === countryVal;
        return matchesSearch && matchesYear && matchesCountry;
      });

      renderItems(filtered);
    }

    function openModal(item) {
      document.getElementById("modal").style.display = "flex";
      document.getElementById("modal-title").innerText = item.Name + " (" + item.Year + ")";
      document.getElementById("modal-description").innerText = item.Description;
      document.getElementById("modal-img-front").src = item.ImgFront;
      if (item.ImgBack) {
        document.getElementById("modal-img-back").style.display = "block";
        document.getElementById("modal-img-back").src = item.ImgBack;
      } else {
        document.getElementById("modal-img-back").style.display = "none";
      }
    }

    function closeModal() { document.getElementById("modal").style.display = "none"; }

    document.getElementById("search").addEventListener("input", applyFilters);
    document.getElementById("yearFilter").addEventListener("change", applyFilters);
    document.getElementById("countryFilter").addEventListener("change", applyFilters);

    loadDataFromSheet();
  </script>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
